{"title":"layoutSubviews、layoutIfNeeded、setNeedsLayout区别","slug":"技术教程/iOS/layoutSubviews、layoutIfNeeded、setNeedsLayout区别","date":"2022-01-04T03:22:39.000Z","updated":"2023-08-10T16:08:13.060Z","comments":true,"path":"api/articles/技术教程/iOS/layoutSubviews、layoutIfNeeded、setNeedsLayout区别.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h2 id=\"setNeedsLayout\"><a href=\"#setNeedsLayout\" class=\"headerlink\" title=\"setNeedsLayout\"></a>setNeedsLayout</h2><p>调用该方法：告诉App在更新周内，布局及重绘当前视图及子视图</p>\n<p>1、该方法是异步操作且必须在主线程中调用；</p>\n<p>2、调用该方法不能精确的控制试图约束更新时间，因为该方法调用完成会立即返回；</p>\n<p>3、该方法可以将多个布局更新放在一个更新周期中更新。</p>\n<h2 id=\"layoutIfNeeded\"><a href=\"#layoutIfNeeded\" class=\"headerlink\" title=\"layoutIfNeeded\"></a>layoutIfNeeded</h2><p>调用该方法：告诉App立即布局及重绘当前视图及子视图，不需要等待更新周期</p>\n<p>该方法是同步操作，布局更新和视图重绘已在该方法调用完成之前全部更新。</p>\n<h2 id=\"layoutSubviews\"><a href=\"#layoutSubviews\" class=\"headerlink\" title=\"layoutSubviews\"></a>layoutSubviews</h2><p>1、该方法会根据你设置的约束来确定子视图的位置和尺寸；</p>\n<p>2、当子视图执行更加精细的布局时，可以重写该方法；</p>\n<p>3、只有当子视图的自动调整（autoresizing）和基于约束的行为不能提供所需的行为时，才应该重写此方法；</p>\n<p>4、不要直接调用该方法，如果你想强制更新布局，可以调用 <code>setNeedsLayout()</code> 方法，如果想立刻更新布局，可以调用 <code>layoutIfNeeded()</code> 方法；</p>\n","more":"<h2 id=\"setNeedsLayout\"><a href=\"#setNeedsLayout\" class=\"headerlink\" title=\"setNeedsLayout\"></a>setNeedsLayout</h2><p>调用该方法：告诉App在更新周内，布局及重绘当前视图及子视图</p>\n<p>1、该方法是异步操作且必须在主线程中调用；</p>\n<p>2、调用该方法不能精确的控制试图约束更新时间，因为该方法调用完成会立即返回；</p>\n<p>3、该方法可以将多个布局更新放在一个更新周期中更新。</p>\n<h2 id=\"layoutIfNeeded\"><a href=\"#layoutIfNeeded\" class=\"headerlink\" title=\"layoutIfNeeded\"></a>layoutIfNeeded</h2><p>调用该方法：告诉App立即布局及重绘当前视图及子视图，不需要等待更新周期</p>\n<p>该方法是同步操作，布局更新和视图重绘已在该方法调用完成之前全部更新。</p>\n<h2 id=\"layoutSubviews\"><a href=\"#layoutSubviews\" class=\"headerlink\" title=\"layoutSubviews\"></a>layoutSubviews</h2><p>1、该方法会根据你设置的约束来确定子视图的位置和尺寸；</p>\n<p>2、当子视图执行更加精细的布局时，可以重写该方法；</p>\n<p>3、只有当子视图的自动调整（autoresizing）和基于约束的行为不能提供所需的行为时，才应该重写此方法；</p>\n<p>4、不要直接调用该方法，如果你想强制更新布局，可以调用 <code>setNeedsLayout()</code> 方法，如果想立刻更新布局，可以调用 <code>layoutIfNeeded()</code> 方法；</p>\n","categories":[{"name":"技术教程","path":"api/categories/技术教程.json"}],"tags":[{"name":"iOS","path":"api/tags/iOS.json"}]}