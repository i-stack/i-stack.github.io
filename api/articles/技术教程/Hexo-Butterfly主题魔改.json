{"title":"Hexo-Butterfly实用技巧","slug":"技术教程/Hexo-Butterfly主题魔改","date":"2023-05-07T01:42:49.000Z","updated":"2023-08-10T16:08:13.052Z","comments":false,"path":"api/articles/技术教程/Hexo-Butterfly主题魔改.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h2 id=\"文章置顶\"><a href=\"#文章置顶\" class=\"headerlink\" title=\"文章置顶\"></a>文章置顶</h2><p>效果参考本站首页</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\"># 先卸载</span><br><span class=\"line\">npm uninstall --save hexo-generator-index</span><br><span class=\"line\"></span><br><span class=\"line\"># 再安装</span><br><span class=\"line\">npm install --save hexo-generator-index-pin-top</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"md文档中使用\"><a href=\"#md文档中使用\" class=\"headerlink\" title=\"md文档中使用\"></a>md文档中使用</h3><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">title: 百度网盘超低价SVIP会员</span><br><span class=\"line\">top: 9998</span><br><span class=\"line\">comments: false</span><br><span class=\"line\">abbrlink: c0554505</span><br><span class=\"line\">tags: 创业项目</span><br><span class=\"line\">categories: 项目资源</span><br><span class=\"line\">date: 2021-04-27 21:47:20</span><br><span class=\"line\">keywords: 百度网盘,SVIP,超低价</span><br><span class=\"line\">description: 百度网盘超低价SVIP会员</span><br><span class=\"line\">cover: https://data.freelibrary.top/img/百度网盘/baiduwangpan.jpeg</span><br></pre></td></tr></tbody></table></figure>\n\n<p>其中<code>top</code>值越大，越靠前。</p>\n<h2 id=\"音乐播放器\"><a href=\"#音乐播放器\" class=\"headerlink\" title=\"音乐播放器\"></a>音乐播放器</h2><h3 id=\"安装-1\"><a href=\"#安装-1\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"md文件中使用\"><a href=\"#md文件中使用\" class=\"headerlink\" title=\"md文件中使用\"></a>md文件中使用</h3><h4 id=\"标签参数\"><a href=\"#标签参数\" class=\"headerlink\" title=\"标签参数\"></a>标签参数</h4><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">{% aplayer \"title\" \"author\" \"url\" \"picture_url\" \"lrc:caffeine.txt\" %}</span><br><span class=\"line\"></span><br><span class=\"line\">title : 曲目标题</span><br><span class=\"line\">author: 曲目作者</span><br><span class=\"line\">url: 音乐文件 URL 地址</span><br><span class=\"line\">picture_url: (可选) 音乐对应的图片地址</span><br><span class=\"line\">narrow: （可选）播放器袖珍风格</span><br><span class=\"line\">autoplay: (可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class=\"line\">width:xxx: (可选) 播放器宽度 (默认: 100%)</span><br><span class=\"line\">lrc:xxx: （可选）歌词文件 URL 地址</span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h4><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">{% aplayer \"青花\" \"周传雄\" \"https://mp3.t57.cn:7087/music/462/320462.m4a\" https://y.qq.com/music/photo_new/T002R300x300M000001Vj7aX0PixwV_1.jpg?max_age=2592000 %}</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"歌曲列表\"><a href=\"#歌曲列表\" class=\"headerlink\" title=\"歌曲列表\"></a>歌曲列表</h3><h4 id=\"管理歌曲\"><a href=\"#管理歌曲\" class=\"headerlink\" title=\"管理歌曲\"></a>管理歌曲</h4><p>在<code>source</code>文件夹新建<code>_data</code>文件夹，并创建<code>songs.yml</code>文件，内容如下：</p>\n<figure class=\"highlight yml\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">青花</span></span><br><span class=\"line\">  <span class=\"attr\">author:</span> <span class=\"string\">周传雄</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">https://mp3.t57.cn:7087/music/462/320462.m4a</span></span><br><span class=\"line\">  <span class=\"attr\">cover:</span> <span class=\"string\">https://y.qq.com/music/photo_new/T002R300x300M000001Vj7aX0PixwV_1.jpg?max_age=2592000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">关不上的窗</span></span><br><span class=\"line\">  <span class=\"attr\">author:</span> <span class=\"string\">周传雄</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">http://ws.stream.qqmusic.qq.com/C400001nLrvS0yuGVd.m4a?guid=735549722&amp;vkey=6DAD540ADA48BEB432458A6960E1BEB15C061AF9BDA2E3EDBB7216FACA9BC2E784E5409342AF9F7371404B2CBA16A848C84D967CE58B0343&amp;uin=&amp;fromtag=120032</span></span><br><span class=\"line\">  <span class=\"attr\">cover:</span> <span class=\"string\">https://y.qq.com/music/photo_new/T002R300x300M000002dDK2v1LkvKq_1.jpg?max_age=2592000</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h4 id=\"使用歌曲\"><a href=\"#使用歌曲\" class=\"headerlink\" title=\"使用歌曲\"></a>使用歌曲</h4><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">{% aplayerlist %}</span><br><span class=\"line\">    {</span><br><span class=\"line\">        \"narrow\": false,</span><br><span class=\"line\">        \"autoplay\": false,</span><br><span class=\"line\">        \"showlrc\": false,</span><br><span class=\"line\">        \"music\": [</span><br><span class=\"line\">            {% for item in site.data.songs %}</span><br><span class=\"line\">                {</span><br><span class=\"line\">                    \"title\": \"{{ item.name }}\",</span><br><span class=\"line\">                    \"author\": \"{{ item.artist }}\",</span><br><span class=\"line\">                    \"url\": \"{{ item.url }}\",</span><br><span class=\"line\">                    \"pic\": \"{{ item.cover }}\"</span><br><span class=\"line\">                }{% if not loop.last %},{% endif %}</span><br><span class=\"line\">            {% endfor %}</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    }</span><br><span class=\"line\">{% endaplayerlist %}</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"使用MeingJS\"><a href=\"#使用MeingJS\" class=\"headerlink\" title=\"使用MeingJS\"></a>使用MeingJS</h3><p>如果想在本插件中使用 MetingJS，请在 Hexo 配置文件 _config.yml 中设置：</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">aplayer:</span><br><span class=\"line\">  meting: true</span><br></pre></td></tr></tbody></table></figure>\n\n<p>接着就可以通过 <code>{% meting ...%}</code> 在文章中使用 MetingJS 播放器了：</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- 简单示例 (id, server, type)  --&gt;</span><br><span class=\"line\">{% meting \"60198\" \"netease\" \"playlist\" %}</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!-- 进阶示例 --&gt;</span><br><span class=\"line\">{% meting \"60198\" \"netease\" \"playlist\" \"autoplay\" \"mutex:false\" \"listmaxheight:340px\" \"preload:none\" \"theme:#ad7a86\"%}</span><br></pre></td></tr></tbody></table></figure>\n\n<h2 id=\"全局变量设置\"><a href=\"#全局变量设置\" class=\"headerlink\" title=\"全局变量设置\"></a>全局变量设置</h2><p>写博客时，想在指定的博客中添加外部链接，比如这个链接是：xxx.com，如果只使用一次，那么直接使用 <code>[](xxx.com)</code> 的方式即可；</p>\n<p>现在需要在多个博客中使用到这个链接，那么一个一个写就显的有点傻。如果链接地址发生了变化，那么改起来会是一项大工程。</p>\n<p>这时需要有一个可以统一修改的方式：</p>\n<p>1、在 <code>source</code> 文件夹下创建 <code>_data</code> 文件夹，然后创建一个 <code>links.yml</code> 格式文件，内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">baidu: \"https://www.baidu.com\"</span><br><span class=\"line\">google: \"httsp://google.com\"</span><br><span class=\"line\">......</span><br></pre></td></tr></tbody></table></figure>\n\n<p>2、怎么在md文件中使用全局变量</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">&lt;a href=\"{{site.data.links.baidu}}\"&gt;打开网站&lt;/a&gt;</span><br></pre></td></tr></tbody></table></figure>\n\n<p>此时点击打开网站即可跳转到对应的地址。</p>\n<p>想修改链接地址，直接在 <code>links.yml</code> 中修改即可。</p>\n<p>运行查看结果:</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></tbody></table></figure>\n\n<h2 id=\"在Hexo-md文档中插入网页\"><a href=\"#在Hexo-md文档中插入网页\" class=\"headerlink\" title=\"在Hexo md文档中插入网页\"></a>在Hexo md文档中插入网页</h2><figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">&lt;div style=\"position: relative; width: 100%; height: 0; padding-bottom: 75%;\"&gt;</span><br><span class=\"line\">    &lt;iframe src=\"//www.freelibrary.top/wallpaper\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"position:absolute; height: 100%; width: 100%;\"&gt; &lt;/iframe&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>\n\n<p>运行查看结果:</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></tbody></table></figure>","more":"<h2 id=\"文章置顶\"><a href=\"#文章置顶\" class=\"headerlink\" title=\"文章置顶\"></a>文章置顶</h2><p>效果参考本站首页</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 先卸载</span><br><span class=\"line\">npm uninstall --save hexo-generator-index</span><br><span class=\"line\"></span><br><span class=\"line\"># 再安装</span><br><span class=\"line\">npm install --save hexo-generator-index-pin-top</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"md文档中使用\"><a href=\"#md文档中使用\" class=\"headerlink\" title=\"md文档中使用\"></a>md文档中使用</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">title: 百度网盘超低价SVIP会员</span><br><span class=\"line\">top: 9998</span><br><span class=\"line\">comments: false</span><br><span class=\"line\">abbrlink: c0554505</span><br><span class=\"line\">tags: 创业项目</span><br><span class=\"line\">categories: 项目资源</span><br><span class=\"line\">date: 2021-04-27 21:47:20</span><br><span class=\"line\">keywords: 百度网盘,SVIP,超低价</span><br><span class=\"line\">description: 百度网盘超低价SVIP会员</span><br><span class=\"line\">cover: https://data.freelibrary.top/img/百度网盘/baiduwangpan.jpeg</span><br></pre></td></tr></table></figure>\n\n<p>其中<code>top</code>值越大，越靠前。</p>\n<h2 id=\"音乐播放器\"><a href=\"#音乐播放器\" class=\"headerlink\" title=\"音乐播放器\"></a>音乐播放器</h2><h3 id=\"安装-1\"><a href=\"#安装-1\" class=\"headerlink\" title=\"安装\"></a>安装</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"md文件中使用\"><a href=\"#md文件中使用\" class=\"headerlink\" title=\"md文件中使用\"></a>md文件中使用</h3><h4 id=\"标签参数\"><a href=\"#标签参数\" class=\"headerlink\" title=\"标签参数\"></a>标签参数</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;picture_url&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">title : 曲目标题</span><br><span class=\"line\">author: 曲目作者</span><br><span class=\"line\">url: 音乐文件 URL 地址</span><br><span class=\"line\">picture_url: (可选) 音乐对应的图片地址</span><br><span class=\"line\">narrow: （可选）播放器袖珍风格</span><br><span class=\"line\">autoplay: (可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class=\"line\">width:xxx: (可选) 播放器宽度 (默认: 100%)</span><br><span class=\"line\">lrc:xxx: （可选）歌词文件 URL 地址</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer &quot;青花&quot; &quot;周传雄&quot; &quot;https://mp3.t57.cn:7087/music/462/320462.m4a&quot; https://y.qq.com/music/photo_new/T002R300x300M000001Vj7aX0PixwV_1.jpg?max_age=2592000 %&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"歌曲列表\"><a href=\"#歌曲列表\" class=\"headerlink\" title=\"歌曲列表\"></a>歌曲列表</h3><h4 id=\"管理歌曲\"><a href=\"#管理歌曲\" class=\"headerlink\" title=\"管理歌曲\"></a>管理歌曲</h4><p>在<code>source</code>文件夹新建<code>_data</code>文件夹，并创建<code>songs.yml</code>文件，内容如下：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">青花</span></span><br><span class=\"line\">  <span class=\"attr\">author:</span> <span class=\"string\">周传雄</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">https://mp3.t57.cn:7087/music/462/320462.m4a</span></span><br><span class=\"line\">  <span class=\"attr\">cover:</span> <span class=\"string\">https://y.qq.com/music/photo_new/T002R300x300M000001Vj7aX0PixwV_1.jpg?max_age=2592000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">关不上的窗</span></span><br><span class=\"line\">  <span class=\"attr\">author:</span> <span class=\"string\">周传雄</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">http://ws.stream.qqmusic.qq.com/C400001nLrvS0yuGVd.m4a?guid=735549722&amp;vkey=6DAD540ADA48BEB432458A6960E1BEB15C061AF9BDA2E3EDBB7216FACA9BC2E784E5409342AF9F7371404B2CBA16A848C84D967CE58B0343&amp;uin=&amp;fromtag=120032</span></span><br><span class=\"line\">  <span class=\"attr\">cover:</span> <span class=\"string\">https://y.qq.com/music/photo_new/T002R300x300M000002dDK2v1LkvKq_1.jpg?max_age=2592000</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"使用歌曲\"><a href=\"#使用歌曲\" class=\"headerlink\" title=\"使用歌曲\"></a>使用歌曲</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;% aplayerlist %&#125;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;narrow&quot;: false,</span><br><span class=\"line\">        &quot;autoplay&quot;: false,</span><br><span class=\"line\">        &quot;showlrc&quot;: false,</span><br><span class=\"line\">        &quot;music&quot;: [</span><br><span class=\"line\">            &#123;% for item in site.data.songs %&#125;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;title&quot;: &quot;&#123;&#123; item.name &#125;&#125;&quot;,</span><br><span class=\"line\">                    &quot;author&quot;: &quot;&#123;&#123; item.artist &#125;&#125;&quot;,</span><br><span class=\"line\">                    &quot;url&quot;: &quot;&#123;&#123; item.url &#125;&#125;&quot;,</span><br><span class=\"line\">                    &quot;pic&quot;: &quot;&#123;&#123; item.cover &#125;&#125;&quot;</span><br><span class=\"line\">                &#125;&#123;% if not loop.last %&#125;,&#123;% endif %&#125;</span><br><span class=\"line\">            &#123;% endfor %&#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用MeingJS\"><a href=\"#使用MeingJS\" class=\"headerlink\" title=\"使用MeingJS\"></a>使用MeingJS</h3><p>如果想在本插件中使用 MetingJS，请在 Hexo 配置文件 _config.yml 中设置：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">aplayer:</span><br><span class=\"line\">  meting: true</span><br></pre></td></tr></table></figure>\n\n<p>接着就可以通过 <code>&#123;% meting ...%&#125;</code> 在文章中使用 MetingJS 播放器了：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- 简单示例 (id, server, type)  --&gt;</span><br><span class=\"line\">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!-- 进阶示例 --&gt;</span><br><span class=\"line\">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"全局变量设置\"><a href=\"#全局变量设置\" class=\"headerlink\" title=\"全局变量设置\"></a>全局变量设置</h2><p>写博客时，想在指定的博客中添加外部链接，比如这个链接是：xxx.com，如果只使用一次，那么直接使用 <code>[](xxx.com)</code> 的方式即可；</p>\n<p>现在需要在多个博客中使用到这个链接，那么一个一个写就显的有点傻。如果链接地址发生了变化，那么改起来会是一项大工程。</p>\n<p>这时需要有一个可以统一修改的方式：</p>\n<p>1、在 <code>source</code> 文件夹下创建 <code>_data</code> 文件夹，然后创建一个 <code>links.yml</code> 格式文件，内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">baidu: &quot;https://www.baidu.com&quot;</span><br><span class=\"line\">google: &quot;httsp://google.com&quot;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<p>2、怎么在md文件中使用全局变量</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;a href=&quot;&#123;&#123;site.data.links.baidu&#125;&#125;&quot;&gt;打开网站&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n\n<p>此时点击打开网站即可跳转到对应的地址。</p>\n<p>想修改链接地址，直接在 <code>links.yml</code> 中修改即可。</p>\n<p>运行查看结果:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"在Hexo-md文档中插入网页\"><a href=\"#在Hexo-md文档中插入网页\" class=\"headerlink\" title=\"在Hexo md文档中插入网页\"></a>在Hexo md文档中插入网页</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div style=&quot;position: relative; width: 100%; height: 0; padding-bottom: 75%;&quot;&gt;</span><br><span class=\"line\">    &lt;iframe src=&quot;//www.freelibrary.top/wallpaper&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot; style=&quot;position:absolute; height: 100%; width: 100%;&quot;&gt; &lt;/iframe&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n\n<p>运行查看结果:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>","categories":[{"name":"技术教程","path":"api/categories/技术教程.json"}],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"}]}